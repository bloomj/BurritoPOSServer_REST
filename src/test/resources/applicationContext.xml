<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
       						http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
       						http://www.springframework.org/schema/context 
							http://www.springframework.org/schema/context/spring-context-3.1.xsd
							http://www.springframework.org/schema/aop 
							http://www.springframework.org/schema/aop/spring-aop.xsd">

    <!-- ========================= Dependencies ==================================== -->

	<!--  Autowiring support (spring 2.5+)  -->
    <!--
        The AutowiredAnnotationBeanPostProcessor and CommonAnnotationBeanPostProcessor are both
        included implicitly when using the component-scan element.
        That means that the two components are autodetected and wired together
    -->
    <context:component-scan base-package="com.burritopos.server.rest">
    	<context:exclude-filter type="regex" expression="com\.burritopos\.server\.test\.*.class"/>
    	<context:exclude-filter type="regex" expression="com\.burritopos\.server\.*\.test\.*.class"/>
 	</context:component-scan>

	<aop:aspectj-autoproxy/>

	<!-- OAuth -->
    <import resource="oauth.xml" />

	<!-- com.burritopos.server.rest.library -->
	<bean id="userSvc" class="com.burritopos.server.service.dao.mongo.UserSvcImpl" scope="singleton"/>
	<bean id="burritoServer" class="com.burritopos.server.rest.library.BurritoServer" scope="singleton"/>

	<!-- com.burritopos.server.rest.webresource -->
	<bean id="serverService" class="com.burritopos.server.rest.webresource.ServerService" scope="singleton">
		<property name="server" ref="burritoServer" />
	</bean>
</beans>
